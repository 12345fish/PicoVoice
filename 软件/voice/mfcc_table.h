#ifndef __MFCC_TABLE_H__
#define __MFCC_TABLE_H__

#include "base.h"

#define MFCC_HAMM_NUM       (256)                   // 汉明窗点数
#define MFCC_TRI_NUM        (24)                    // 三角滤波器个数

#define MFCC_HAMM_SCALE     (256)                   // 汉明窗缩放倍数，实际值为255，取256简化运算
#define MFCC_TRI_SCALE      (256)                   // 三角滤波器缩放倍数，实际值为255，取256简化运算
#define MFCC_DCT_SCALE      (128)                   // DCT缩放倍数，实际值为127，取128简化运算

// 汉明窗 窗长256/2
const u8 hamm_tab_256[MFCC_HAMM_NUM / 2] = {
    20, 20, 21, 21, 21, 21, 22, 22, 23, 23, 24, 25, 25, 26, 27, 28,
    29, 31, 32, 33, 34, 36, 37, 39, 40, 42, 44, 45, 47, 49, 51, 53,
    55, 57, 59, 61, 64, 66, 68, 71, 73, 75, 78, 80, 83, 85, 88, 91,
    93, 96, 99, 101, 104, 107, 110, 113, 115, 118, 121, 124, 127, 130, 133, 136,
    138, 141, 144, 147, 150, 153, 156, 159, 161, 164, 167, 170, 173, 175, 178, 181,
    183, 186, 189, 191, 194, 196, 199, 201, 204, 206, 208, 211, 213, 215, 217, 219,
    221, 223, 225, 227, 229, 231, 233, 234, 236, 237, 239, 240, 242, 243, 244, 245,
    247, 248, 249, 249, 250, 251, 252, 252, 253, 253, 254, 254, 255, 255, 255, 255,
};

// 三角滤波器中心频率点 24个
const u8 tri_cen_tab_128[MFCC_TRI_NUM] = {
    3, 5, 8, 11, 14, 16, 19, 22, 25, 27, 30, 33, 38, 43, 48, 53, 59, 66, 73, 80, 88, 97, 107, 117
};

// 奇数三角滤波器首尾相连的折线
const u8 tri_odd_tab_128[] = {
    0, 0, 0, 128, 255, 170, 85, 0, 85, 170, 255, 170, 85, 0, 128, 255,
    170, 85, 0, 85, 170, 255, 170, 85, 0, 128, 255, 170, 85, 0, 85, 170,
    255, 204, 153, 102, 51, 0, 51, 102, 153, 204, 255, 204, 153, 102, 51, 0,
    51, 102, 153, 204, 255, 213, 170, 128, 85, 43, 0, 36, 73, 109, 146, 182,
    219, 255, 219, 182, 146, 109, 73, 36, 0, 36, 73, 109, 146, 182, 219, 255,
    223, 191, 159, 128, 96, 64, 32, 0, 28, 57, 85, 113, 142, 170, 198, 227,
    255, 230, 204, 179, 153, 128, 102, 77, 51, 26, 0, 26, 51, 77, 102, 128,
    153, 179, 204, 230, 255, 232, 209, 185, 162, 139, 116, 93, 70, 46, 23, 0
};

// 偶数三角滤波器首尾相连的折线
const u8 tri_even_tab_128[] = {
    85, 170, 255, 128, 0, 85, 170, 255, 170, 85, 0, 85, 170, 255, 128, 0,
    85, 170, 255, 170, 85, 0, 85, 170, 255, 128, 0, 85, 170, 255, 170, 85,
    0, 51, 102, 153, 204, 255, 204, 153, 102, 51, 0, 51, 102, 153, 204, 255,
    204, 153, 102, 51, 0, 43, 85, 128, 170, 213, 255, 219, 182, 146, 109, 73,
    36, 0, 36, 73, 109, 146, 182, 219, 255, 219, 182, 146, 109, 73, 36, 0,
    32, 64, 96, 128, 159, 191, 223, 255, 227, 198, 170, 142, 113, 85, 57, 28,
    0, 26, 51, 77, 102, 128, 153, 179, 204, 230, 255, 230, 204, 179, 153, 128,
    102, 77, 51, 26, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};

// 反离散余弦变换 余弦表 24*12
const s8 dct_tab_24x12[] = {
    127, 125, 120, 114, 106, 95, 84, 71, 56, 41, 25, 8, -8, -25, -41, -56, -71, -84, -95, -106, -114, -120, -125, -127,
    126, 117, 101, 77, 49, 17, -17, -49, -77, -101, -117, -126, -126, -117, -101, -77, -49, -17, 17, 49, 77, 101, 117, 126,
    125, 106, 71, 25, -25, -71, -106, -125, -125, -106, -71, -25, 25, 71, 106, 125, 125, 106, 71, 25, -25, -71, -106, -125,
    123, 90, 33, -33, -90, -123, -123, -90, -33, 33, 90, 123, 123, 90, 33, -33, -90, -123, -123, -90, -33, 33, 90, 123,
    120, 71, -8, -84, -125, -114, -56, 25, 95, 127, 106, 41, -41, -106, -127, -95, -25, 56, 114, 125, 84, 8, -71, -120,
    117, 49, -49, -117, -117, -49, 49, 117, 117, 49, -49, -117, -117, -49, 49, 117, 117, 49, -49, -117, -117, -49, 49, 117,
    114, 25, -84, -127, -71, 41, 120, 106, 8, -95, -125, -56, 56, 125, 95, -8, -106, -120, -41, 71, 127, 84, -25, -114,
    110, 0, -110, -110, 0, 110, 110, 0, -110, -110, 0, 110, 110, 0, -110, -110, 0, 110, 110, 0, -110, -110, 0, 110,
    106, -25, -125, -71, 71, 125, 25, -106, -106, 25, 125, 71, -71, -125, -25, 106, 106, -25, -125, -71, 71, 125, 25, -106,
    101, -49, -126, -17, 117, 77, -77, -117, 17, 126, 49, -101, -101, 49, 126, 17, -117, -77, 77, 117, -17, -126, -49, 101,
    95, -71, -114, 41, 125, -8, -127, -25, 120, 56, -106, -84, 84, 106, -56, -120, 25, 127, 8, -125, -41, 114, 71, -95,
    90, -90, -90, 90, 90, -90, -90, 90, 90, -90, -90, 90, 90, -90, -90, 90, 90, -90, -90, 90, 90, -90, -90, 90
};

#endif // __MFCC_TABLE_H__
